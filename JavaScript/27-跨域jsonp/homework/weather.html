<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>hello world~!!</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
    <style>
        *{margin: 0;padding: 0;}
        body{font:14px/1.5 'Microsoft Yahei';}
        .clearfix:after{content:'';display:block;clear:both;}
        .fl{float:left;}
        .fr{float:right;}
        #weather{
            width:500px;
            min-height:500px;
            border:1px solid #ccc;
            margin:50px auto;
            padding:10px;
        }
        #weather .search{
            text-align: center;
        }
        #weather .search input[type='text']{
            width:200px;
            height:40px;
            text-indent: 10px;
            outline:none;
        }
        #weather .search input[type='button']{
            width:50px;
            height:40px;
            border:none;
            background:#3BB2C3;
            color:#fff;
            outline:none;

        }
        #weather ul li{
            list-style: none;
        }

    </style>
</head>
<body>
    <div id="weather">
       <div class="search">
            <input type="text">
            <input type="button" value='查询'>
       </div>
       <ul>
           <li>
                <time class='today'>今天</time>
                <div class="temperature">气温:<span></span></div>
                <div class="weather">天气:<span></span></div>
                <div class="wind">风力:<span></span></div>
                <div class="week">date:<span></span></div>
                <div class="city">城市:<span></span></div>
                <div class="date_y">时间:<span></span></div>
                <div class="dressing_index">舒适度:<span></span></div>
                <div class="dressing_advice">出行建议:<span></span></div>

           </li>
           <li>

           </li>
           <li>

           </li>


       </ul>



    </div>



    <script>
        var aInp = document.getElementsByTagName('input');
        var weather = document.getElementById('weather');
        var item = weather.querySelectorAll('ul li div');
        //console.log(item);
        aInp[1].onclick = function(){
            var val =  aInp[0].value;
            if(!val){ return ;}
            var script = document.createElement('script');
        script.src = 'http://v.juhe.cn/weather/index?cityname='+val+'&dtype=jsonp&callback=handle&format=&key=bb99380de81ed3b6c03a2c74e7df0661';
        document.body.appendChild(script);


        }


        function handle(data){
            var data = data.result.today;
            console.log(data)
            for(var i=0;i<item.length;i++){
                item[i].firstElementChild.innerText =  data[ item[i].className ];
            }
        }







    </script>
</body>

</html>
