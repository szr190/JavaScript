<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>hello world~!!</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
    <style>
    *{margin: 0;padding: 0;}
    .clearfix:after{content:'';display:block;clear:both;}
    .fl{float:left;}
    .fr{float:right;}
    #time{
        width:500px;
        padding:20px;
        height:80px;
        border:1px solid #ccc;
        margin:50px auto;
        font-size:25px;
    }
    #time ul{
      overflow:hidden;
    }
    #time ul li{
        list-style: none;
        float:left;
        width:45px;
        height:61px;
        text-align:center;
        position: relative;
    }
    #time ul li img{
        position: absolute;
    }
    #time ul li img.time{
        top:0px;
    }
    #time ul li img.sub{
        top:61px;
    }


    </style>
</head>
<body>
    <div class="" id="time">
        <ul class='clearfix'>
            <li><img class='time' src="images/0.png" ><img class='sub' src="images/0.png" ></li>
            <li><img class='time' src="images/0.png" ><img class='sub' src="images/0.png" ></li>
            <li><img src="images/d.png" alt=""></li>
            <li><img class='time' src="images/0.png" ><img class='sub' src="images/0.png" ></li>
            <li><img class='time' src="images/0.png" ><img class='sub' src="images/0.png" ></li>
            <li><img src="images/d.png" alt=""></li>
            <li><img class='time' src="images/0.png" ><img class='sub' src="images/0.png" ></li>
            <li><img class='time' src="images/0.png" ><img class='sub' src="images/0.png" ></li>
        </ul>


    </div>
</body>
    <script src='js/self_element.js'></script>
    <script>
        var aImg = document.getElementsByClassName('time');
        var aSub = document.getElementsByClassName('sub');
        var time;
        time_run();
        for(var i=0;i<aImg.length;i++){
            aImg[i].index = i;
            aImg[i].num = time[i];
            aSub[i].src = aImg[i].src = 'images/'+time.charAt(i)+'.png';

        }

        setInterval(clock(),1000);
        function  clock(){
            time_run();
            console.log(time);
            for(var i=0;i<aImg.length;i++ ){

                if( aImg[i].num != time.charAt(i)){
                    aImg[i].num = time.charAt(i);
                    srcoll(aImg[i].index);
                }
                /*把值写入自定义的num中*/

            }
            return clock;
        }

        function srcoll(index){
                var i_top= parseInt(getStyle(aImg[index],'top'));
                var isub_top= parseInt(getStyle(aSub[index],'top'));
                if_top(aImg,index,i_top);
                if_top(aSub,index,isub_top);
        }
        function time_run(){
                var date = new Date();
                var hours = date.getHours();
                var mins = date.getMinutes();
                var secs = date.getSeconds();
                time = addZero(hours)+addZero(mins)+addZero(secs);
        }

        function if_top(obj,index,value){

             if(value == 0){
                    //obj[index].src = 'images/'+time.charAt(index)+'.png';
                    obj[index].animation({top:-61},500,function(){
                       obj[index].style.top = 61 +'px';
                       //_index = ++obj[index].num;
                       //obj[index].src = 'images/'+time.charAt(index)+'.png';

                    });
                }else if(value == 61){
                    obj[index].src = 'images/'+time.charAt(index)+'.png';
                    obj[index].animation({top:0},500);
                }else{
                    obj[index].animation({top:-61},500);
                }
        }
        function addZero(num){
            num =  num>10?num:'0'+num;
            return num.toString();;
        }




    </script>
</html>
