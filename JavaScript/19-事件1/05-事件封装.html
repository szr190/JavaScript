<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>hello world~!!</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
    <style>
        *{margin: 0;padding: 0;}
        body{font:16px/1.5 'Microsoft Yahei';}
        .clearfix:after{content:'';display:block;clear:both;}
        .fl{float:left;}
        .fr{float:right;}
        ul{

            width:300px;
            height:300px;
            border:1px solid #ccc;
            margin:auto;
        }
        li{
            list-style:none;
            width:100px;
            height:100px;
            background: green;
        }

    </style>
</head>
<body>
    <ul>
        <li></li>
    </ul>
</body>
    <script>
        var oUl = document.getElementsByTagName('ul')[0];
        var oLi = document.getElementsByTagName('li')[0];
        /*
            event对象
                 //标准浏览器even对象是函数的第一形参，非标准的ie是window.event


            事件冒泡
                阻止事件冒泡
                if(e.stopPropagation){
                    e.stopPropagation();//标准阻止冒泡
                }else{
                    e.cancelBubble = true;//非标准ie阻止冒泡
                }


            新的事件绑定形式
                标准：
                    元素.addEventListener(事件类型, 函数, 是否捕获 )

                    是否捕获 true 捕获 false 冒泡

                        捕获从外到内
                        冒泡从内到外
                        先捕获后冒泡

                    特点:
                        1、事件类型没on
                        2、有捕获
                        3、处理函数执行顺序按 正序
                        4、this指向事件处理函数的对象

                非标准:
                 元素.attachEvent(事件类型，函数)
                    特点
                        1 事件有on
                        2、没有捕获
                        3、处理函数执行顺序按 倒序
                        4、this指向window







        */
        //普通的绑定事件
        // oBox.onclick = function(){
        //     console.log('ok');
        //     oBox.onclick = null;//普通事件的解绑

        // }

        //新的绑定事件形式
        // oBox.addEventListener('click',fn,false );
        // function fn(){alert( 1)}
        // oUl.addEventListener('click',Ul,true);
        // function Ul(){
        //     alert('oUl');
        // }


        // oLi.addEventListener('click',fn,false);
        // oLi.addEventListener('click',fn2,true);

        // function fn(){ alert('冒泡') }
        // function fn2(){ alert('捕获') }

        //oLi.addEventListener('click',fn1,false);
        //oLi.addEventListener('click',fn2,false);


       //  oLi.attachEvent('onclick',fn1);
       //  //oLi.attachEvent('onclick',fn2);
       //  function fn1(){ alert(this) }
       // function fn2(){ alert('fn2') }

       // oLi.addEventListener('click',fn,false);
       // function fn(e){ alert('冒泡') }

       // //解绑
       // oLi.removeEventListener('click',fn,false);

        // oLi.addEventListener('click',fn,false);
        //    function fn(){

        //     alert('冒泡');
        //     this.removeEventListener('click',fn,false);

        //   }

       //解绑
       // oLi.attachEvent('onclick',fn);
       //     function fn(){

       //      alert('冒泡');
       //      oLi.detachEvent('onclick',fn);

       //    }


       //注册封装
       addEvent(oLi,'click',fn,false);
       function fn(e){
        alert(e);
       }
       addEvent(oLi,'mouseenter',fn2,false);
       function fn2(e){
        console.log('mouseenter');
       }

       //removeEvent(oLi,'click',fn,false);
       //注册封装
        function addEvent(obj,type,fn,boolen){
            obj[type]= handle;
            if(obj.addEventListener){//标准
                obj.addEventListener(type,obj[type],boolen);
            }else{
                obj.attachEvent('on'+type,obj[type]);
            }

            function handle(e){
                e = e|| window.event;
                fn.call(obj,e);

            }


        }

        function removeEvent(obj,type,fn,boolen){

            if(obj.removeEventListener){
                obj.removeEventListener(type,obj[type],boolen);
            }else{
                obj.detachEvent('on'+type,obj[type]);

            }

        }





    </script>
</html>
