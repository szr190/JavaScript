<!DOCTYPE html>
<html onselectstart = 'return false;'>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>hello world~!!</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
    <style>
        *{margin: 0;padding: 0;}
        body{font:16px/1.5 'Microsoft Yahei';}
        .clearfix:after{content:'';display:block;clear:both;}
        .fl{float:left;}
        .fr{float:right;}
        #wrap{
            width:700px;
            height:800px;
            background: #efefef;
            margin:50px auto;
            overflow:hidden;
            position: relative;
        }
        #wrap ul.content{
            width:660px;
            padding:10px;
            line-height:2.5;
            position: absolute;

        }
        #wrap ul.content li{
            border-bottom: 1px solid #fff;

        }
        #wrap .scrollbar{
            position: absolute;
            right:0;
            top:0;
            width:20px;
            height:100%;
            background-color: #ccc;
            box-shadow:0 0 6px 0 #666 inset;
            border-radius:10px;
            border:1px solid #888;

        }
        #wrap .scrollbar i{
            position: absolute;
            width:100%;
            height:30px;
            background: #eee;
            border-radius: 10px;
        }




    </style>
</head>
<body >
    <div id="wrap" >
            <ul class="content" >
                <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                 <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                 <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                 <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
                 <li>
                    <p>1、Life was like a box of chocolates, you never know what you're going to get.</p>
                    <span>生命就像一盒巧克力，结果往往出人意料。</span>
                </li>
                <li>
                    <p>2、Stupid is as stupid does.</p>
                    <span>蠢人做蠢事，也可理解为傻人有傻福。</span>
                </li>
                <li>
                    <p>3、Miracles happen every day.</p>
                    <span>奇迹每天都在发生。</span>
                </li>
                <li>
                    <p>4、it made me look like a duck in water.</p>
                    <span>它让我如鱼得水。</span>
                </li>
                <li>
                    <p>5、I don't know if we each have a destiny, or if we're all just floating around accidental—like on a breeze.</p>
                    <span>我不懂我们是否有着各自的命运，还是只是到处随风飘荡。</span>
                </li>
                <li>
                    <p>6、Death is just a part of life, something we're all destined to do.</p>
                    <span>死亡是生命的一部分，是我们注定要做的一件事。</span>
                </li>
                <li>
                    <p>7、You have got to put the past behind you before you can move on.</p>
                    <span>放下包袱，继续前进。</span>
                </li>
                <li>
                    <p>8、It was like just before the sun goes to bed down on the bayou. There was a million sparkles on the river.</p>
                    <span>就像太阳在落山前映射在河口上，有无数的亮点在闪闪发光。</span>
                </li>
                <li>
                    <p>9、If there is anything you need, I will not be far away.</p>
                    <span>只要你需要，我就在这里。</span>
                </li>
            </ul>

        <div class="scrollbar">
            <i></i>
        </div>
    </div>

</body>
    <script>

        var oWrap = document.querySelector('#wrap');
        var oScrollbar = document.querySelector('.scrollbar');
        var oBut = document.querySelector('.scrollbar i');
        var ocontent = document.querySelector('.content');
        oBut.style.height = oScrollbar.offsetHeight/ocontent.offsetHeight*oScrollbar.offsetHeight+'px';

        addEvent(oBut,'mousedown',function(e){
             console.log(1);
            var init_T = oBut.offsetTop;
            var Y = e.clientY;
            addEvent(document,'mousemove',fn);
            function fn(e){
                var disY = e.clientY - Y;
                var val = init_T+disY;
                val = Math.min(val,oScrollbar.offsetHeight-oBut.offsetHeight);
                val = Math.max(val,0);
                oBut.style.top = val+'px';

               var prop =  oBut.offsetTop/(oScrollbar.offsetHeight-oBut.offsetHeight);
               var scrollTop =  prop*( ocontent.offsetHeight - oScrollbar.offsetHeight );
               console.log( scrollTop)
               ocontent.style.top = -scrollTop+'px';



               oWrap.wheelfn = fn;
            }
            addEvent(document,'mouseup',function(e){
                removeEvent(document,'mousemove');
                removeEvent(document,'mouseup');
            });



        });



        //addEvent(oWrap,'mousewheel',wheel);
        function wheel(e){
            return e.preventDefault();
        }


        function addEvent(obj,eventType,fn,boolean){
            //事件兼容处理
            boolean=boolean?boolean:false;
            obj[eventType] = handle;//把处理函数赋值给window，便于后面的清除
             obj.addEventListener?obj.addEventListener(eventType,obj[eventType],boolean):obj.attachEvent('on'+eventType,handle);
             console.log(1);
             //兼容:鼠标滚动
             if(eventType=='mousewheel'){
                obj.onmousewheel = handle;//兼容ie chrome
                obj.addEventListener?obj.addEventListener('DOMMouseScroll',obj[eventType],boolean):false;   //兼容firefox

             }
             //滚动函数event对象处理

             function handle(e){
                e = e || window.event;
                console.log( 'ok')
                e.wheel = e.wheelDelta?e.wheelDelta:-e.detail*40;
                fn.call(obj,e);
            }

        }

        function removeEvent(obj,eventType,boolean){
            boolean=boolean?boolean:false;
            obj.removeEventListener?obj.removeEventListener(eventType,obj[eventType],boolean):obj.detachEvent('on'+eventType,obj[eventType]);
            //兼容:鼠标滚动
             if(eventType=='mousewheel'){
                obj.onmousewheel = null;//兼容ie chrome
                eventType ='DOMMouseScroll';
                obj.removeEventListener?obj.removeEventListener(eventType,obj[eventType],boolean):false;   //兼容firefox

             }


        }






    </script>
</html>
