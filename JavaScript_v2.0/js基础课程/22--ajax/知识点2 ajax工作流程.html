<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{margin: 0;padding: 0;}
			
		</style>
	</head>
	<body>
		
		
		<button id="btn"></button>
		<script>
		var oBtn=document.getElementById("btn");
			/*
				ajax工作流程
				
			*/
			
		oBtn.onclick=function(){
			
			//1.创建1个ajax对象;XMLHttpRequest是一个构造函数
			//var xhr=new XMLHttpRequest();
			//兼容性改造(兼容ie6,7,8)
			var xhr=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject('Microsoft.XMLHttp');
			//2.通过什么方式发送数据(get--会把发送的数据放到url里面/post);发送的数据是什么(路径);是否异步
				//异步---请求的过程不会影响后面程序的执行
			xhr.open('get','firstajax.txt',true);
			//3.正式发送数据
			xhr.send();
			//4.监听请求状态(接收数据)
				/*
					xhr.readyState---请求的状态码
					0----请求还没有初始化(还没有执行open)
	    		    1----请求建立,还没有发送(执行了open,但是还没有执行send)
	    		    2----已经发送,正在处理(执行了send)
	    		    3----请求处理中,有部分数据已经可以用了,但是不完整
	    		    4----请求响应完成
	    		    
	    		    onreadystatechange---请求状态码发生改变的时候进行触发
	    		    
	    		    xhr.responseText---服务器返回的数据
	    		    
	    		    xhr.status : HTTP状态码
				*/
			xhr.onreadystatechange=function(){
				if ( xhr.readyState == 4 )
				{
					if ( xhr.status >= 200 && xhr.status < 300 )
					{
						alert( xhr.responseText );
					}else
					{
						alert( '请求好像遇到了点问题，状态码：' + xhr.status );
					};
				}
			}
		}
			
		</script>
	</body>
</html>
